var FORM_VALIDATE = (function () {
    var t,
      e = !1,
      n = [],
      a = function (n, a) {
        var o = document.getElementById("snackbar"),
          i = r(n);
        (o.style.position = "absolute"),
          (o.style.left = i.x + "px"),
          (o.style.top = i.y + "px"),
          e && ((o.className = "snack_hidden"), clearTimeout(t)),
          (e = !0),
          (o.getElementsByTagName("p")[0].innerHTML = a),
          (o.className = "snack_visible"),
          (t = setTimeout(function () {
            e && (document.getElementById("snackbar").className = "snack_hidden");
            e = !1;
          }, 3e3));
      },
      r = function (t) {
        var e = t.getBoundingClientRect();
        return {
          x: window.scrollX + e.left + e.width / 2,
          y: window.scrollY + e.top + e.height + 6,
        };
      },
      o = function (t) {
        for (
          var e = t.querySelectorAll("[crequired]"), n = 0;
          n < e.length;
          n++
        ) {
          if ("" == (o = e[n]).value.trim()) {
            var r = o.getAttribute("text-crequired");
            return a(o, r), o.focus(), !1;
          }
        }
        for (e = t.querySelectorAll("[cregex]"), n = 0; n < e.length; n++) {
          var o,
            i = (o = e[n]).value.trim(),
            l = o.getAttribute("cregex");
          if ("" != l)
            if (!new RegExp(l).test(i)) {
              r = o.getAttribute("text-cregex");
              return a(o, r), o.focus(), !1;
            }
        }
        return !0;
      },
      i = function (t, e) {
        var n = t.split(".");
        if (1 == n.length) {
          var a = n[0];
          null != window[a] && "function" == typeof window[a] && window[a](e);
        } else if (2 == n.length) {
          var r = n[0];
          a = n[1];
          null != window[r] &&
            "object" == typeof window[r] &&
            null != window[r][a] &&
            "function" == typeof window[r][a] &&
            window[r][a](e);
        }
      },
      l = function () {
        $(document).on("submit", ".ajaxform", function (t) {
          if ((t.preventDefault(), o(this))) {
            var e = this,
              a = $(e),
              r = a.attr("action"),
              l = a.attr("data-success"),
              s = a.attr("data-fail"),
              d = a.attr("data-always"),
              c = a.attr("method"),
              u = a.attr("data-type") || "json",
              f = a.attr("data-global") || !1;
            !(function (t) {
              for (
                var e = t.querySelectorAll("button[type=submit]"), a = 0;
                a < e.length;
                a++
              ) {
                var r = e[a];
                (r.disabled = !0),
                  n.push(r.innerHTML),
                  (r.innerHTML = '<span class="box_loading_icon"></span>');
              }
            })(e),
              $.ajax({
                url: r,
                type: c,
                global: f,
                dataType: u,
                data: a.serialize(),
              })
                .done(function (t) {
                  i(l, t);
                })
                .fail(function (t) {
                  i(s, t);
                })
                .always(function (t) {
                  !(function (t) {
                    for (
                      var e = t.querySelectorAll("button[type=submit]"), a = 0;
                      a < e.length;
                      a++
                    ) {
                      var r = e[a];
                      (r.disabled = !1), (r.innerHTML = n[a]);
                    }
                  })(e),
                    i(d, t);
                });
          }
        });
      };
    return {
      _: function () {
        l(),
          (function () {
            var t =
              '#snackbar{display:none;pointer-events:none;transform:translate(-50%)}#snackbar .arrow{content:"";display:block;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #b60808d1;position:absolute;top:-6px;left:50%;transform:translate(-50%)}#snackbar p{padding:2px 5px;border-radius:3px;background:#b60808d1;color:#fff}#snackbar.snack_visible{display:block}#snackbar.snack_hidden{display:none}.box_loading_icon{display:inline-block;max-width:100%;max-height:100%}.box_loading_icon:after{content:" ";display:block;width:32px;height:32px;margin:2px;border-radius:50%;border:3px solid #fff;border-color:#fff transparent #fff transparent;animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}';
            (head = document.head || document.getElementsByTagName("head")[0]),
              (style = document.createElement("style")),
              head.appendChild(style),
              (style.type = "text/css"),
              style.styleSheet
                ? (style.styleSheet.cssText = t)
                : style.appendChild(document.createTextNode(t));
            var e = document.createElement("div");
            (e.id = "snackbar"),
              (e.innerHTML = '<span class="arrow"></span><p></p>'),
              document.body.appendChild(e);
          })();
      },
      validate: function (t) {
        return o(t);
      },
    };
  })();
  $(function () {
    FORM_VALIDATE._();
  });